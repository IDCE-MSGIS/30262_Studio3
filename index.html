<!DOCTYPE html>
<html>

<head>
  <title>Studio Week 3</title>
  <!-- Add Mapbox GL JS JavaScript file -->
  <script>src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.5.0/mapbox-gl.js'</script>
  <!-- Add in the Mapbox GL JS CSS file -->
  <link rel="stylesheet" href="https://api.tiles.mapbox.com/mapbox-gl-js/v1.5.0/mapbox-gl.css">
  <!-- Add CSS styling info for the map -->
  <style type="text/css">
    #mapId {
      top: 200 px;
    }
  </style>
  <!-- Adding styling info for page layout by reading in a CSS file -->
  <link rel="stylesheet" href="styles.css">

</head>

<body>
  <h1>Studio Week 3 <br> Choropleth Map with Mapbox </h1>
  <!-- Add multiple pages to web page-->
  <!-- active class displays the grey box around current page-->
  <ul>
  	<li><a class="active" href="index.html" target="_self">Output 1</a></li>
    <li><a href="mapbox-interaction.html" target="_self">Output 2</a></li>
    <li><a href="mapbox-turfjs.html" target="_self">Output 3</a></li>
  </ul>
  <br>

  <!-- Add a div to give the map somewhere to go -->
  <div id="mapId"></div>

  <script>
    // Add your access token
  mapboxgl.accessToken = 'pk.eyJ1IjoiY29tb3JlaG91c2UxNjIwIiwiYSI6ImNrbGpzdG9zazBudW0ydXBmZDE4Nmx2cHgifQ.mVF4ibqhEiChmb8ShMbehQ';
    // Create a variable called "map" to house your map
  var map = new mapboxgl.Map({
  style: "mapbox://styles/comorehouse1620/cknqj7ux301q317n63g9eirub",
  container: "mapId"
  });
    // Add a legend
  for (i = 0; i < layers.length; i++) {
    var layer = layers[i];
    var color = colors[i];
    var item = document.createElement('div');
    var key = document.createElement('span');
    key.className = 'legend-key';
    key.style.backgroundColor = color;

    var value = document.createElement('span');
    value.innerHTML = layer;
    item.appendChild(key);
    item.appendChild(value);
    legend.appendChild(item);
  }

    // Add the information window
  map.on('mousemove', function(e) {
    var states = map.queryRenderedFeatures(e.point, {
      layers: ['statedata']
    });

    if (states.length > 0) {
      document.getElementById('pd').innerHTML = '<h3><strong>' + states[0].properties.name + '</strong></h3><p><strong><em>' + states[0].properties.density + '</strong> people per square mile</em></p>';
    } else {
      document.getElementById('pd').innerHTML = '<p>Hover over a state!</p>';
    }
  });

  map.fitBounds([[-133.2421875, 16.972741], [-47.63671875, 52.696361]]);
  </script>
</body>

</html>